{"name": "test_register_class_flow", "status": "failed", "statusDetails": {"message": "AssertionError: Locator expected to be visible\nActual value: None\nError: element(s) not found \nCall log:\n  - Expect \"to_be_visible\" with timeout 5000ms\n  - waiting for locator(\"main, .container, .content\").first.get_by_role(\"heading\", name=re.compile(r\"^Note\\s+Nhận\\s+lớp\\s+E0073$\", re.IGNORECASE)).first", "trace": "page = <Page url='https://tutor.growgreen.edu.vn/note/E0610?step=3'>, base_url = 'https://tutor.growgreen.edu.vn/'\n\n    def test_register_class_flow(page, base_url):\n        login = LoginPage(page, base_url)\n        login.goto()\n        login.login(\"luuthianduyen@gmail.com\", \"luuthianduyen247\")\n        login.is_login_successful()\n    \n        home = HomePage(page, base_url)\n        home.goto()\n        home.open_new_classes()\n        new_classes = NewClassesPage(page, base_url)\n        new_classes.open_first_class_detail()\n    \n        detail = DetailPage(page)\n        detail.click_register()\n        detail.click_continue()\n>       detail.verify_nhan_lop_text(\"E0073\")\n\ntests\\test_class_registration.py:22: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _\n\nself = <pages.detail_page.DetailPage object at 0x000001EA72031A90>, class_code = 'E0073'\n\n    def verify_nhan_lop_text(self, class_code: str | None = None):\n        \"\"\"Xác minh heading 'Note Nhận lớp <MÃ LỚP>' hiển thị sau khi nhấn Tiếp tục.\"\"\"\n        # 1) URL đúng trang note\n        expect(self.page).to_have_url(re.compile(r\"/note/\", re.I))\n    \n        # 2) Chỉ vào vùng nội dung chính để tránh match menu/dropdown\n        container = self.page.locator(\"main, .container, .content\").first\n    \n        # 3) Tạo regex heading duy nhất\n        if class_code:\n            pattern = rf\"^Note\\s+Nhận\\s+lớp\\s+{re.escape(class_code)}$\"\n        else:\n            pattern = r\"^Note\\s+Nhận\\s+lớp\\b\"\n    \n        # 4) Ưu tiên role 'heading' để bắt đúng H1/H2/H3\n        heading = container.get_by_role(\"heading\", name=re.compile(pattern, re.I)).first\n>       expect(heading).to_be_visible(timeout=5000)\nE       AssertionError: Locator expected to be visible\nE       Actual value: None\nE       Error: element(s) not found \nE       Call log:\nE         - Expect \"to_be_visible\" with timeout 5000ms\nE         - waiting for locator(\"main, .container, .content\").first.get_by_role(\"heading\", name=re.compile(r\"^Note\\s+Nhận\\s+lớp\\s+E0073$\", re.IGNORECASE)).first\n\npages\\detail_page.py:59: AssertionError"}, "start": 1766679972614, "stop": 1766679989809, "uuid": "90ed2922-e98d-4007-8e29-00a14fd6c681", "historyId": "1be9e749a3e44e927bd3a15ed62e0402", "testCaseId": "1be9e749a3e44e927bd3a15ed62e0402", "fullName": "tests.test_class_registration#test_register_class_flow", "labels": [{"name": "parentSuite", "value": "tests"}, {"name": "suite", "value": "test_class_registration"}, {"name": "host", "value": "LTADUYEN"}, {"name": "thread", "value": "15392-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_class_registration"}], "titlePath": ["tests", "test_class_registration.py"]}